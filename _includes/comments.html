{% if site.comments.disqus %}
<div class="comments">
    <div id="disqus_thread"></div>
    <script>
        /**
         * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
         */
        /*
         var disqus_config = function () {
         this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
         this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
         };
         */
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//{{ site.disque }}/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>
{% endif %}

{% if site.comments.gitalk %}
<div class="comments">
    <div id="gitalk-container"></div>
    <script src="/assets/js/gitalk.min.js"></script>
    <script src="/assets/js/md5.min.js"></script>
    <script>
        var gitalk = new Gitalk({
            clientID: '{{ site.comments.gitalk_client_id }}',
            clientSecret: '{{ site.comments.gitalk_secret }}',
            repo: '{{ site.comments.gitalk_repo }}',
            owner: '{{ site.comments.gitalk_owner }}',
            admin: ['{{ site.comments.gitalk_admin }}'],
            id: md5(window.location.pathname),  // Ensure uniqueness and length less than 50{{ page.title }}
            distractionFreeMode: '{{ site.comments.distraction_free_mode }}'  // Facebook-like distraction free mode
        })
        gitalk.render('gitalk-container')
    </script>
</div>	
 {% endif %}
